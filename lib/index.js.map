{"version":3,"sources":["index.js"],"names":["FloatingButton","args","state","open","render","props","children","position","offset","onLeft","indexOf","onTop","x","y","style","count","toArray","map","child","index","title","variants","itemStyle","Object","keys","reduce","nextStyle","key","dir","distance","transform","zIndex","opacity","className","setState","propTypes","oneOf","shape","string","isRequired","defaultProps"],"mappings":"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","file":"index.js","sourcesContent":["/**\n * @file Melon Floating Button\n * @author leon <ludafa@outlook.com>\n */\n\nimport React, {Component, PropTypes, cloneElement, Children} from 'react';\nimport cx from 'classnames';\n\nexport default class FloatingButton extends Component {\n\n    constructor(...args) {\n        super(...args);\n        this.state = {\n            open: false\n        };\n    }\n\n    render() {\n\n        let {\n            children,\n            position,\n            offset\n        } = this.props;\n\n        let onLeft = position.indexOf('l') >= 0;\n        let onTop = position.indexOf('t') >= 0;\n        let {x, y} = offset;\n\n        let style = {\n            [onLeft ? 'left' : 'right']: x,\n            [onTop ? 'top' : 'bottom']: y\n        };\n\n        let count = Children.count(children);\n        let open = this.state.open;\n\n        children = Children\n            .toArray(children)\n            .map((child, index) => {\n\n                let {\n                    title = '',\n                    variants = []\n                } = child.props;\n\n                child = cloneElement(child, {\n                    variants: [\n                        ...variants,\n                        'icon', 'floating'\n                    ],\n                    title: null\n                });\n\n                let itemStyle = Object.keys(style).reduce((nextStyle, key) => {\n\n                    let dir = position.indexOf('t') > -1 ? 1 : -1;\n                    let distance = open ? dir * index * 3 : 0;\n\n                    nextStyle.transform = index > 0\n                        ? `translateY(${distance}em)`\n                        : `rotate(${open ? 360 : 0}deg)`;\n\n                    nextStyle[key] = '0';\n\n                    return nextStyle;\n\n                }, {\n                    zIndex: count - index,\n                    opacity: open || index === 0 ? 1 : 0\n                });\n\n                return (\n                    <li\n                        data-title={index > 0 ? title : null}\n                        key={index}\n                        className=\"ui-floating-action-button-item\"\n                        style={itemStyle}>\n                        {child}\n                    </li>\n                );\n\n            });\n\n        let className = cx(\n            'ui-floating-action-button',\n            `variants-${position}`,\n            open ? 'state-open' : ''\n        );\n\n        return (\n            <ul\n                className={className}\n                style={style}\n                onMouseEnter={e => this.setState({open: true})}\n                onMouseLeave={e => this.setState({open: false})}>\n                {children}\n            </ul>\n        );\n\n    }\n\n}\n\nFloatingButton.propTypes = {\n    position: PropTypes.oneOf([\n        'tl',\n        'tr',\n        'bl',\n        'br'\n    ]),\n    offset: PropTypes.shape({\n        x: PropTypes.string.isRequired,\n        y: PropTypes.string.isRequired\n    }).isRequired\n};\n\nFloatingButton.defaultProps = {\n    position: 'br',\n    offset: {\n        x: '2rem',\n        y: '2rem'\n    }\n};\n"]}